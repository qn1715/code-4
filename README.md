Code is good but we can manage code more generically with common functions.
if write DB related logics in model than the code is more generic and reuseable.
if we used DB Commit and rollback function at the time off database inseration and updation of resource, its could better and save.
used try catch is best thing in code.